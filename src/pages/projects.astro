---
import BaseLayout from '../layouts/BaseLayout.astro';
import ProjectCard from '../components/ProjectCard.astro';

// Jack's actual projects
const projects = [
  {
    title: "Outrider Digital",
    summary: "SEO growth engine for startups and agencies.",
    description: "My boutique SEO agency. We specialize in organic search strategy execution and team training. White-label SEO for agencies and direct client work with a track record of 40% traffic growth, 20x increases, and real results.",
    techStack: ["SEO", "Content Strategy", "Analytics", "Link Building"],
    status: "Active" as const,
    year: 2020,
    impact: 10,
    liveUrl: "https://outriderdigital.com",
  },
  {
    title: "Heavy Duty Leads",
    summary: "Lead generation for heavy-duty contractors.",
    description: "Lead generation platform built for heavy equipment and industrial contractors. Connects contractors with high-intent customers looking for excavation, demolition, and heavy-duty services.",
    techStack: ["Lead Gen", "SEO", "Contractor Marketing", "Local Search"],
    status: "Active" as const,
    year: 2025,
    impact: 7,
    liveUrl: "https://heavydutyleads.co",
  },
  {
    title: "Super Septic",
    summary: "Contractor growth playbook for a niche market.",
    description: "Niche SEO agency exclusively for septic pumping and installation companies. Web design, local SEO, Google Ads, and LSA management. One of several niche-specific contractor marketing brands under the Outrider umbrella.",
    techStack: ["SEO", "Google Ads", "Web Design", "Local Search"],
    status: "Active" as const,
    year: 2025,
    impact: 6,
    liveUrl: "https://septicmarketing.us",
  },
  {
    title: "Stacks",
    summary: "Systems for ADHD brains, built with empathy.",
    description: "Building tools for people who think differently. Early-stage project helping misfits create productivity systems that actually work for their brains, not against them.",
    techStack: ["Product", "ADHD", "Productivity", "Systems"],
    status: "Active" as const,
    year: 2025,
    impact: 8,
    liveUrl: "https://getstacks.xyz",
  },
  {
    title: "FEIE Tracker",
    summary: "Track your days abroad for tax exclusion eligibility.",
    description: "A simple tool for US expats and digital nomads to track days spent outside the country. Helps determine eligibility for the Foreign Earned Income Exclusion (FEIE), which can save thousands on US taxes each year.",
    techStack: ["Tax", "Expat Tools", "FEIE", "Digital Nomad"],
    status: "Active" as const,
    year: 2025,
    impact: 6,
    liveUrl: "https://feie.us",
  },
  {
    title: "Free Autism Test",
    summary: "Free, accessible self‑screening for autism traits.",
    description: "A free online autism self-assessment tool designed to help adults identify whether their experiences align with autism spectrum traits. Clinically informed, stigma-free, and built to encourage people to seek professional evaluation.",
    techStack: ["Mental Health", "Assessment", "Autism", "Screening"],
    status: "Active" as const,
    year: 2025,
    impact: 7,
    liveUrl: "https://freeautismtest.org",
  },
  {
    title: "Free ADHD Test",
    summary: "Free, fast self‑assessment for ADHD symptoms.",
    description: "A free 5-minute ADHD self-assessment tool based on DSM-5 diagnostic criteria. Built to help people understand if their symptoms align with ADHD so they can seek proper evaluation.",
    techStack: ["Mental Health", "Assessment", "DSM-5"],
    status: "Active" as const,
    year: 2024,
    impact: 7,
    liveUrl: "https://freeadhdtest.org",
  },
  {
    title: "Wifi Rockstar",
    summary: "Personal brand for the misfit builder.",
    description: "Personal brand for misfits whose brains don't fit factory settings. Content, community, and resources for building your own path when the traditional one doesn't work.",
    techStack: ["Personal Brand", "Content", "Community"],
    status: "Active" as const,
    year: 2024,
    impact: 5,
    liveUrl: "https://instagram.com/wifirockstar",
  },
  {
    title: "Diverge & Conquer",
    summary: "Life design platform for intentional paths.",
    description: "Build the life you actually want. A platform for personal development and intentional life design. Currently on pause but the mission remains: help people break from conventional paths to create something meaningful.",
    techStack: ["Life Design", "Personal Development", "Content"],
    status: "Active" as const,
    year: 2025,
    impact: 4,
    liveUrl: "https://divergeandconquer.com",
  },
];

const activeProjects = projects.filter(p => p.status === 'Active');
const pastProjects = projects.filter(p => p.status !== 'Active');

const personId = "https://jacksquire.com/#jack-squire";

const projectsJsonLd = {
  "@context": "https://schema.org",
  "@type": "ProfilePage",
  "mainEntity": {
    "@type": "Person",
    "@id": personId,
    "name": "Jack Squire",
    "url": "https://jacksquire.com",
    "image": "https://jacksquire.com/images/jack-hero.jpg",
    "jobTitle": "Founder & SEO Strategist",
    "description": "Entrepreneur and product builder. Top 1% SEO expert on Upwork with $100M+ in client revenue generated. Building tools for people with ADHD and neurodivergent brains.",
    "homeLocation": {
      "@type": "Place",
      "name": "Mexico City, Mexico"
    },
    "knowsAbout": ["SEO", "Content Strategy", "Digital Marketing", "ADHD Productivity", "Product Development", "Entrepreneurship"],
    "sameAs": [
      "https://instagram.com/jacksquire",
      "https://linkedin.com/in/jacksquire",
      "https://twitter.com/jacksquire",
      "https://outriderdigital.com"
    ],
  },
  "hasPart": projects.map((project) => ({
    "@type": "WebSite",
    "name": project.title,
    "url": project.liveUrl,
    "description": project.description,
    "founder": { "@id": personId },
  })),
};
---

<BaseLayout
  title="Projects"
  description="Projects by Jack Squire — top 1% SEO expert, founder of Outrider Digital, and ADHD-first product builder. From agencies generating $100M+ in client revenue to free mental health tools."
>
  <section class="section pt-32 md:pt-40 content-visibility-auto">
    <div class="container">
      <!-- Header -->
      <div class="max-w-2xl mb-16">
        <h1 class="text-4xl md:text-5xl font-heading font-bold mb-6">
          Projects by Jack Squire
        </h1>
        <p class="text-xl text-text-muted leading-relaxed">
          Businesses I run, tools I'm building, and brands I'm growing. From SEO agencies generating $100M+ in client revenue to free tools for people whose brains work differently.
        </p>

        <!-- E-E-A-T: Builder credentials -->
        <div class="mt-6 flex flex-wrap gap-3 text-xs">
          <span class="px-3 py-1.5 rounded-full bg-primary/10 text-primary font-medium">Top 1% SEO Expert — Upwork</span>
          <span class="px-3 py-1.5 rounded-full bg-green-500/10 text-green-400 font-medium">$100M+ Client Revenue</span>
          <span class="px-3 py-1.5 rounded-full bg-purple-500/10 text-purple-400 font-medium">ADHD-First Builder</span>
          <a href="/about" class="px-3 py-1.5 rounded-full bg-surface border border-border text-text-muted hover:text-text transition-colors font-medium">About Jack</a>
        </div>

        <div class="mt-6 flex flex-wrap items-center gap-3 text-sm text-text-muted">
          <span>Sort by:</span>
          <button class="btn btn-secondary text-xs px-3 py-1.5" data-project-sort="newest">
            Newest
          </button>
          <button class="btn btn-secondary text-xs px-3 py-1.5" data-project-sort="impact">
            Most impactful
          </button>
        </div>
      </div>

      <!-- Active Projects -->
      {activeProjects.length > 0 && (
        <div class="mb-16">
          <h2 class="text-2xl font-heading font-bold mb-8 flex items-center gap-3">
            <span class="w-2 h-2 rounded-full bg-green-400 animate-pulse"></span>
            Currently Active
          </h2>
          <div class="grid md:grid-cols-2 gap-6" data-project-grid>
            {activeProjects.map((project) => (
              <ProjectCard {...project} />
            ))}
          </div>
        </div>
      )}

      <!-- Past Projects -->
      {pastProjects.length > 0 && (
        <div>
          <h2 class="text-2xl font-heading font-bold mb-8">
            Past Projects
          </h2>
          <div class="grid md:grid-cols-2 gap-6" data-project-grid>
            {pastProjects.map((project) => (
              <ProjectCard {...project} />
            ))}
          </div>
        </div>
      )}

      <!-- Call to Action -->
      <div class="mt-16 pt-16 border-t border-border text-center">
        <h2 class="text-2xl font-heading font-bold mb-4">
          Need SEO help or want to collaborate?
        </h2>
        <p class="text-text-muted max-w-xl mx-auto mb-8">
          If you're looking for SEO services, check out Outrider Digital. If you want to chat about building things for misfits, I'm always down to connect.
        </p>
        <div class="flex flex-wrap justify-center gap-4">
          <a href="https://outriderdigital.com" target="_blank" rel="noopener noreferrer" class="btn btn-primary">
            Visit Outrider Digital
          </a>
          <a href="mailto:hello@jacksquire.com" class="btn btn-secondary">
            Say Hello
          </a>
        </div>
      </div>
    </div>
  </section>
</BaseLayout>

<script type="application/ld+json">
  {JSON.stringify(projectsJsonLd)}
</script>

<script>
  const sortButtons = document.querySelectorAll('[data-project-sort]');
  const grids = document.querySelectorAll('[data-project-grid]');

  const sortGrid = (grid, mode) => {
    const cards = Array.from(grid.children);
    cards.sort((a, b) => {
      const aYear = Number(a.dataset.year || 0);
      const bYear = Number(b.dataset.year || 0);
      const aImpact = Number(a.dataset.impact || 0);
      const bImpact = Number(b.dataset.impact || 0);
      if (mode === 'impact') {
        return bImpact - aImpact || bYear - aYear;
      }
      return bYear - aYear || bImpact - aImpact;
    });
    grid.innerHTML = '';
    cards.forEach((card) => grid.appendChild(card));
  };

  sortButtons.forEach((btn) => {
    btn.addEventListener('click', () => {
      const mode = btn.dataset.projectSort;
      grids.forEach((grid) => sortGrid(grid, mode));
    });
  });
</script>
